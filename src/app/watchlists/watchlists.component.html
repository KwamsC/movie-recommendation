<app-navbar></app-navbar>

<div style="margin-bottom: 1em;">
  <div class="container">
    <h2>Create</h2>
    <form #loginForm="ngForm" (ngSubmit)="createWatchlist()">
      <div class="form-group">
        <label for="email">Name:</label>
        <input type="text" [(ngModel)]="watchlistWC.name" id="email" name="name" class="form-control" required />
      </div>
      <button class="btn btn-primary" type="submit">Create</button>
    </form>
  </div>

  <div class="container">
    <h2>View</h2>
    <div class="form-group">
      <select class="form-control" [(ngModel)]="selectedWatchlist" (change)="loadWatchlist($event.target.value)">
          <option *ngFor="let watchlist of watchlists" [value]="watchlist.id">{{watchlist.name}}</option>
      </select>
    </div>
    <form #deleteForm="ngForm" (ngSubmit)="deleteWatchlist()">
      <button class="btn btn-danger" type="submit">Delete</button>
    </form>
  </div>

  <div class="container movies">
    <div class="row">
      <div *ngFor="let movie of movies" class="col-md-3">
        <div class="card card-01 height-fix">
          <img class="card-img-top" src="https://image.tmdb.org/t/p/w500/{{movie.poster}}" alt="Card image cap">
          <div class="card-img-overlay">
            <h4 class="card-title"><strong>{{movie.title}}</strong></h4>
            <p class="card-text">{{movie.release_date}}</p>
            <button type="button" class="btn btn-primary" routerLink="/movies/{{movie.id}}"><i class="fa fa-search"></i> Details</button>
            <br /><br />
            <button type="button" class="btn btn-warning" (click)="removeMovie(movie.id)" ><i class="fa fa-minus-circle"></i> Remove</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <h2>Share</h2>
    <form #shareForm="ngForm" (ngSubmit)="shareWatchlist()">
      <div class="form-group">
        <label for="userId">User:</label>
        <input type="text" [(ngModel)]="userId" id="user" name="user" class="form-control" required />
      </div>
      <button class="btn btn-primary" type="submit">Share</button>
    </form>
  </div>
</div>
